# gitSQLServer
GIT - SQL Server - Source Control

# Not working yet!!!


##### Requirements
- [ ] SQL version 2008 and up, should work in 2005 with some changes.
- [ ] Folder containing the repo must have full control permissions on user 'Everyone'
- [ ] Run the install script as a administrator.
- [ ] Permissions to run xp_cmdshell

##### 1. Installation
After checking the requirements open **install.sql**, scroll down to the config section and:
* Insert full path to git binary.
* Choose a login and password to run the all the stuff (git by default)

By default it will create only one repo and one branch per user, you can choose to create a repo per database.


##### 2. Generate Scripts

First you will need to create a folder for every database
```
bcp "SELECT name FROM sys.databases" queryout "createFolders" -c -T -t field_terminator -S {{localhost\SQLSERVERNAME}} -T & FOR /F "" %G IN (createFolders) DO mkdir %G | del createFolders 
```
To init the repository you will need the .sql files generated by MS SQL Managment Studio, right click on every database, Tasks > Generate Scripts, choose save whole data , and generate single file per object, choose the right folder that you created before for every DB.

Its not a funny task but you only need to do it once.
